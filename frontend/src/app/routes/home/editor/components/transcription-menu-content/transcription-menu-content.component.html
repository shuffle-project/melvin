<div *ngrxLet="transcriptionsList$ as transcriptionList">
  @for (t of transcriptionList; track t) {
  <div>
    <button
      (click)="onSelectTranscription(t.id)"
      mat-menu-item
      [disabled]="
        t.transcriptionStatus !== tStatus.OK &&
        t.transcriptionStatus !== undefined
      "
      [class]="t.transcriptionStatus"
    >
      @if(t.transcriptionStatus !== undefined && t.transcriptionStatus !==
      tStatus.OK) {
      <mat-icon
        class="status-icon"
        [class]="t.transcriptionStatus"
        [svgIcon]="
          t.transcriptionStatus === tStatus.WAITING
            ? 'pause'
            : t.transcriptionStatus === tStatus.ERROR
            ? 'warning'
            : 'setting'
        "
      />
      } @else {
      <mat-icon
        [class.hidden]="t.id !== (selectedTranscriptionId$ | ngrxPush)"
        svgIcon="done"
      />
      }

      <div class="button-label-wrapper">
        @if (t.transcriptionStatus !== undefined && t.transcriptionStatus !==
        tStatus.OK ) {
        <span class="status">
          {{ t.transcriptionStatus | readableStatus }}
        </span>
        }
        <span>
          {{ t.language | writtenOutLanguage : t.title }}
          <span class="transcription-lang-code"> ({{ t.language }}) </span>
        </span>
      </div>
    </button>
  </div>
  }
  <mat-divider />
</div>
@if ('editTranscriptions' | featureEnabled) {

<button
  mat-menu-item
  i18n="@@transcriptionMenuContentEditLabel"
  (click)="onClickTranscriptionEdit()"
>
  <mat-icon svgIcon="edit"></mat-icon>
  Edit Transcriptions
</button>

}

<button mat-menu-item (click)="onClickTranscriptionAdd()">
  <mat-icon svgIcon="add"></mat-icon>
  <span i18n="@@transcriptionMenuContentAddLabel"> Add Transcription </span>
</button>
